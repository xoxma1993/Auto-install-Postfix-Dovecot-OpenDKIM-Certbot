# Настройка почтового сервера на Linux

Это руководство описывает процесс настройки почтового сервера на Linux с использованием следующих компонентов: Postfix для SMTP, Dovecot для IMAP, OpenDKIM для подписи сообщений DKIM и Certbot для получения SSL-сертификатов от Let's Encrypt.

## Описание скрипта

Скрипт `setup-mail-server.sh` выполняет автоматизацию следующих задач:

**Определение переменных и функций**: Устанавливает основные переменные и функцию для ведения журнала.
**Запрос пароля**: Запрашивает пароль для доступа к почтовому ящику.
**Обновление и установка пакетов**: Устанавливает необходимые пакеты, такие как Postfix, Dovecot, OpenDKIM и Certbot.
**Конфигурация Postfix**: Настраивает основные параметры Postfix.
**Конфигурация Dovecot**: Определяет местоположение почтовых ящиков.
**Настройка аутентификации Dovecot**: Создает учетные записи пользователей и пароли.
**Настройка DKIM**: Генерирует и настраивает ключи DKIM.
**Интеграция OpenDKIM с Postfix**: Настраивает Postfix для использования OpenDKIM.
**Получение SSL-сертификата от Let's Encrypt**: Создает и применяет SSL-сертификаты.
**Настройка SSL для Postfix и Dovecot**: Применяет SSL-сертификаты к Postfix и Dovecot.
**Перезапуск служб**: Перезапускает службы для применения изменений.
**Вывод информации для настройки DNS**: Предоставляет инструкции по настройке записей DKIM и SPF.

# Инструкция по установке



### Шаг 1: Подготовка

Убедитесь в наличии доступа к серверу с правами суперпользователя и зарегистрированным доменным именем.

### Шаг 2: Загрузка скрипта

Загрузите скрипт `setup-mail-server.sh` на сервер.

### Шаг 3: Выставление прав

chmod +x setup-mail-server.sh

## Запуск скрипта

### Шаг 4: Запуск скрипта

```bash
./setup-mail-server.sh
```

### Шаг 5: Проверка и настройка

- Проверьте журналы на наличие ошибок.
- Выполните настройку DNS в соответствии с инструкциями.

### Шаг 6: Тестирование и мониторинг

- Проверьте отправку и получение писем.
- Настройте брандмауэр и системы обнаружения вторжений.

### Шаг 7: Обновления и резервное копирование

Регулярно обновляйте сервер и создавайте резервные копии данных.